データウェアハウス(DWH)を設計する際、まず「**どんな成果指標（KPI）や事象を分析したいか**」を明確にすることが非常に重要です。ここでは、業種別に「売上」「話題」「ユーザー行動」など、**DWHでファクト（分析対象）になりやすい例**をリストアップしてみます。目的がハッキリすると「ファクト／ディメンションの設計」や「スター・スキーマ」を作るときにイメージしやすくなるはずです。

---

## 1. EC・小売

1. **売上金額・受注明細**  
   - ファクト例: `fact_sales` (売上明細1行、日付、商品、顧客など)  
   - 何がいつ、誰に、どのくらい売れたか？ どんなキャンペーンが有効だったか？  
2. **在庫・出荷状況**  
   - ファクト例: `fact_inventory_change`, `fact_shipment`  
   - いつ在庫が補充され、いつどこに出荷されたか？  
3. **返品・キャンセル**  
   - ファクト例: `fact_returns`  
   - 返品率や返品理由を分析し、不良品対策やサービス向上に繋げる。

### 目的例
- **「売上が下がった原因は？」**  
  - 日付軸 × 商品カテゴリ × プロモーション効果  
- **「リピーター率はどうか？」**  
  - 顧客ディメンションで絞り込み、期間ごとの再購入回数分析

---

## 2. SNS・メディア

1. **投稿・エンゲージメント**  
   - ファクト例: `fact_post_interactions` (いいね、リツイート、コメントなど)  
   - いつ、誰が、何に反応した？ どんな話題が盛り上がっているか？  
2. **ハッシュタグ／トピックの盛り上がり**  
   - ファクト例: `fact_topic_trends`  
   - 話題が発生したタイミングや頻度を記録して、ピークを分析。  
3. **フォロワー増減・新規登録**  
   - ファクト例: `fact_user_growth`  
   - 何が契機でユーザー増えた？ 大規模キャンペーンがきっかけか？

### 目的例
- **「どの話題がいつバズった？」**  
  - 時間軸 + トピックディメンション  
- **「特定ユーザー層が最もいいねを押すジャンルは？」**  
  - ユーザー属性(年齢、地域など) × 投稿ジャンル

---

## 3. ヘルスケア・医療

1. **患者データ・検査記録**  
   - ファクト例: `fact_medical_exams` (血糖値測定、血圧、定期検診結果など)  
   - どの患者がいつどの検査を受け、数値はどうだったか？  
2. **処方箋・治療方針**  
   - ファクト例: `fact_prescriptions`  
   - ある症状に対してどんな処方を行ったか？ 効果はどうか？  
3. **入院・退院、手術情報**  
   - ファクト例: `fact_hospital_stays`  
   - どの病気で入院し、退院まで何日かかったか？

### 目的例
- **「糖尿病患者の数値変化の傾向と、改善施策の関連性は？」**  
  - 患者ディメンション(年齢、性別など) × 検査データ × 時間軸  
- **「ダイエットプログラム受講者の体重推移」**  
  - 週ごとの体重変化、施策(食事制限/運動量)との相関

---

## 4. 動画プラットフォーム（YouTube 等）

1. **視聴ログ**  
   - ファクト例: `fact_watch_history` (視聴開始/終了、視聴時間、スキップ等)  
   - どのユーザーがいつ、何を、どれだけ見たか？  
2. **いいね・コメント・チャンネル登録**  
   - ファクト例: `fact_engagement`  
   - どの動画に対して反応したか？ どのチャンネルが人気か？  
3. **広告クリック・広告視聴**  
   - ファクト例: `fact_ad_clicks`  
   - 動画再生に挿入される広告がいつクリックされたか？

### 目的例
- **「視聴完了率が高いジャンルは？」**  
  - 動画ディメンション(カテゴリ、長さ) × ユーザー属性 × 完了率  
- **「チャンネル登録につながる動画の特徴」**  
  - 動画内容(ジャンル)、投稿者、再生時間、コメント数などの相関を分析

---

## 5. 金融・保険

1. **口座取引・入出金明細**  
   - ファクト例: `fact_transactions`  
   - いつ、どの口座からいくら出入りしたか？  
2. **保険契約・解約**  
   - ファクト例: `fact_insurance_contracts`  
   - 誰がどんな条件の保険に加入し、いつ解約したか？  
3. **与信スコア・審査結果**  
   - ファクト例: `fact_credit_scores`  
   - いつ、どの顧客がどのような審査結果(スコア)になったか？

### 目的例
- **「どんな職業・年収帯の人が生命保険に加入しやすいか？」**  
  - 顧客属性ディメンション × 契約データ × 時間軸  
- **「口座残高が急激に変動するパターンは？」**  
  - リスク管理や不正検知

---

## 6. その他ジャンル例

- **サブスクリプションサービス** (Netflix等)  
  - ファクト: `fact_subscriptions`, `fact_usage`  
  - 分析: 誰がいつから契約し、視聴/利用をどれだけしているか？ 退会率は？  
- **交通・運輸** (Uber等)  
  - ファクト: `fact_rides`, `fact_route_events`  
  - 分析: 需要の多い時間帯・ルート、運賃の変化、ドライバー稼働率  
- **ゲーム**  
  - ファクト: `fact_game_sessions`, `fact_in_app_purchase`  
  - 分析: 課金額、ステージクリア率、イベント参加率など

---

### まとめ

- **DWHの設計は「何を分析し、どんな成果を出したいか？」から逆算**して、中心となる「ファクト（事象）の定義」を固める。  
- それを取り巻く **ディメンション（切り口）** (ユーザー/商品/日付/カテゴリ/地域…など) をどこまで細かく用意するかが、DWH設計の肝。  
- 分析目的が “売上” なのか “話題度” なのか “ユーザーの健康指標” なのか、あるいは “保険契約” なのかによって、**ファクトテーブルに入れる指標やディメンションキーが大きく変わる**。  

「何がKPIなのか？」「何をゴールとしたレポートや分析をしたいか？」のリストアップから始めると、設計方針がスッキリ見えてきます。ぜひ参考にしてみてください。